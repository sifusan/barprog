<html>
    <head>
        <meta charset="UTF-8">
        <title>Barprog!</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-database.js"></script>
        <script>
        // Initialize Firebase
        // TODO: Replace with your project's customized code snippet
        let config = {
            apiKey: "AIzaSyBWf3NNqFt1EmUKsEIFD2QZwNmL_RwOS1U",
            authDomain: "barprog-6f2be.firebaseapp.com",
            databaseURL: "https://barprog-6f2be.firebaseio.com",
            projectId: "barprog-6f2be",
            storageBucket: "barprog-6f2be.appspot.com",
            messagingSenderId: "889201306262"
        };
        firebase.initializeApp(config);
        let database = firebase.database();
        readFromDatabaseOnce("data");
        console.log("test");
        let testId = 12312414;
        getValueFromId(testId);
        add1ToId(testId);
        getValueFromId(testId);

        function readFromDatabaseOnce(value) {
            console.log("inFunction");
            console.log(value);
            let leadsRef = database.ref(value);
            leadsRef.on('value', function (snapshot) {
                snapshot.forEach(function (childSnapshot) {
                    let childData = childSnapshot.val();
                    console.log(childData);
                });
            });
        }


        function add1ToId(id) {
            let oldValue = getValueFromId(id);

            let newChild = id + "" : 
            ref.child("Posts").child("12345TG4").update({ Likes: 74 });

         //   let oldValue = getValueFromId(id);
           // firebase.database().ref().child(id).setValue(oldValue + 1);
//            var updates = {};
  //          updates['/' + id] = (value - 1);
    //        return firebase.database().ref().update(updates);
        }

        function remove1FromId(id) {
            let value = getValueFromId(id);

            var updates = {};
            updates['/' + id] = (value - 1);
            return firebase.database().ref().update(updates);
        }

        function getValueFromId(id) {
            var idValueRef = firebase.database().ref(id);
            idValueRef.on('value', function(snapshot) {
                console.log(snapshot.val());
                return snapshot.val();
            });
        }

        </script>
        <script src="js/main.js"></script>
    </head>
    <body>
        <div class="container">
            <input type="text" id="search" placeholder="SÃ¸k etter en kamp, i.e: Manchester City FC">
            <div id="results">
                <div class="result">
                    <div class="top">
                        <div class="left">
                            <div class="home bold">Hjemme</div>
                            <div class="versus">vs.</div>
                            <div class="away bold">Borte</div>
                        </div>
                        <div class="thumb-up"></div>
                        <div class="thumbs"></div>
                        <div class="thumb-down"></div>
                    </div>
                    <div class="bottom"></div>
                </div>
            </div>
        </div>
    </body>
</html>